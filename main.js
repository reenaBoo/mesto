(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var e=function(){function e(t,n,r,o,i,a){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._text=t.name,this._image=t.link,this._cardSelector=n,this.likes=t.likes,this.cardId=t._id,this._ownerId=t.owner._id,this._handleCardClick=r,this._userId=a,this._handleCardLike=o.bind(this),this._handleCardDelete=i}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".card__image"),this._cardTitle=this._element.querySelector(".card__title"),this._cardButtonDelete=this._element.querySelector(".card__delete-button"),this._cardButtonLike=this._element.querySelector(".card__like-button"),this._likeCounter=this._element.querySelector(".card__like-counter"),this._setEventListeners(),this._checkCardOwner(),this._cardImage.src=this._image,this._cardImage.alt=this._text,this._cardTitle.textContent=this._text,this.handleToggleLike(),this.setCounter(this.likes.length),this._element}},{key:"_checkCardOwner",value:function(){this._ownerId!==this._userId&&this._cardButtonDelete.remove()}},{key:"setCounter",value:function(t){this._likeCounter.textContent=t}},{key:"_setEventListeners",value:function(){var t=this;this._cardButtonLike.addEventListener("click",(function(){t._handleCardLike()})),this._cardButtonDelete.addEventListener("click",(function(){t._handleCardDelete(t)})),this._cardImage.addEventListener("click",(function(){t._handleCardClick()}))}},{key:"handleToggleLike",value:function(){this.isLiked()?this._cardButtonLike.classList.add("card__like-button_active"):this._cardButtonLike.classList.remove("card__like-button_active")}},{key:"removeElement",value:function(){this._element.remove()}},{key:"isLiked",value:function(){var t=this;return this.likes.some((function(e){return e._id===t._userId}))}}])&&t(n.prototype,r),e}();function n(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var r=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"changeButtonText",(function(t){r._submitButtonSelector.textContent=t})),this._inputSelector=e.inputSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=n,this._submitButtonSelector=this._form.querySelector(e.submitButtonSelector),this._inputList=Array.from(this._form.querySelectorAll(this._inputSelector))}var e,r;return e=t,(r=[{key:"_showInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));t.classList.add(this._inputErrorClass),e.textContent=t.validationMessage,e.classList.add(this._errorClass)}},{key:"_hideInputError",value:function(t){var e=this._form.querySelector(".".concat(t.id,"-error"));t.classList.remove(this._inputErrorClass),e.classList.remove(this._errorClass),e.textContent=""}},{key:"_toggleButtonState",value:function(){this._hasInvalidInput()?(this._submitButtonSelector.classList.add(this._inactiveButtonClass),this._submitButtonSelector.setAttribute("disabled","true")):(this._submitButtonSelector.classList.remove(this._inactiveButtonClass),this._submitButtonSelector.removeAttribute("disabled"))}},{key:"_checkInputValidity",value:function(t){t.validity.valid?this._hideInputError(t):this._showInputError(t)}},{key:"_hasInvalidInput",value:function(){return this._inputList.some((function(t){return!t.validity.valid}))}},{key:"_setEventListener",value:function(){var t=this;this._inputList.forEach((function(e){e.addEventListener("input",(function(){t._checkInputValidity(e),t._toggleButtonState()}))}))}},{key:"enableValidation",value:function(){this._setEventListener()}},{key:"resetErrorText",value:function(){var t=this;this._inputList.forEach((function(e){t._hideInputError(e)})),this._toggleButtonState()}}])&&n(e.prototype,r),t}();function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=e,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}},{key:"addItemAppend",value:function(t){this._container.append(t)}}])&&o(e.prototype,n),t}();function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(this,"_handleEscClose",(function(t){"Escape"===t.key&&n.close()})),this._popup=document.querySelector(e)}var e,n;return e=t,(n=[{key:"open",value:function(){document.addEventListener("keydown",this._handleEscClose),this._popup.classList.add("popup_opened")}},{key:"close",value:function(){document.removeEventListener("keydown",this._handleEscClose),this._popup.classList.remove("popup_opened")}},{key:"setEventListeners",value:function(){var t=this;this._popup.addEventListener("mousedown",(function(e){e.target.classList.contains("popup")&&t.close(t._popup)})),this._popup.addEventListener("click",(function(e){e.target.classList.contains("popup__close-button")&&t.close(t._popup)}))}}])&&a(e.prototype,n),t}();function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e){return!e||"object"!==u(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&f(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=p(r);if(o){var n=p(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return h(this,t)});function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,t))._popupImage=e._popup.querySelector(".figure__image"),e._popupTitle=e._popup.querySelector(".figure__title"),e}return e=a,(n=[{key:"openImage",value:function(t,e){this._popupImage.src=e,this._popupImage.alt=t,this._popupTitle.textContent=t,l(p(a.prototype),"open",this).call(this)}}])&&s(e.prototype,n),a}(c);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e,n){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=k(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function k(t){return(k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&m(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(r);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return b(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._form=n._popup.querySelector(".form"),n._confirmButton=n._form.querySelector(".form__save-button"),n._handleSubmit=e,n}return e=a,(n=[{key:"_getInputValues",value:function(){var t=this;return this._inputsList=this._form.querySelectorAll(".form__input"),this._data={},this._inputsList.forEach((function(e){t._data[e.name]=e.value})),this._data}},{key:"setEventListeners",value:function(){var t=this;v(k(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault();var n=t._getInputValues();t._handleSubmit(n)}))}},{key:"close",value:function(){this._form.reset(),v(k(a.prototype),"close",this).call(this)}}])&&y(e.prototype,n),a}(c);function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var w=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._userName=e,this._userAbout=n,this._userAvatar=r,this._profileId=""}var e,n;return e=t,(n=[{key:"getUserInfo",value:function(){return{name:this._userName.textContent,about:this._userAbout.textContent}}},{key:"setUserInfo",value:function(t,e,n){this._userName.textContent=t,this._userAbout.textContent=e,this._userId=n}},{key:"setUserAvatar",value:function(t){this._userAvatar.src=t}},{key:"getUserId",value:function(){return this._userId}}])&&S(e.prototype,n),t}();function E(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._cohort=e,this._url=n,this._token=r}var e,n;return e=t,(n=[{key:"_checkStatus",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getInitialCards",value:function(){return fetch("".concat(this._url,"/").concat(this._cohort,"/cards"),{headers:{authorization:this._token}}).then(this._checkStatus)}},{key:"postNewCard",value:function(t,e){return fetch("".concat(this._url,"/").concat(this._cohort,"/cards"),{method:"POST",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,link:e})}).then(this._checkStatus)}},{key:"getUserInfo",value:function(){return fetch("".concat(this._url,"/").concat(this._cohort,"/users/me"),{headers:{authorization:this._token}}).then(this._checkStatus)}},{key:"editUserInfo",value:function(t,e){return fetch("".concat(this._url,"/").concat(this._cohort,"/users/me"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({name:t,about:e})}).then(this._checkStatus)}},{key:"editUserAvatar",value:function(t){return fetch("".concat(this._url,"/").concat(this._cohort,"/users/me/avatar"),{method:"PATCH",headers:{authorization:this._token,"Content-Type":"application/json"},body:JSON.stringify({avatar:t})}).then(this._checkStatus)}},{key:"likeCard",value:function(t){return fetch("".concat(this._url,"/").concat(this._cohort,"/cards/likes/").concat(t),{method:"PUT",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}},{key:"deleteLike",value:function(t){return fetch("".concat(this._url,"/").concat(this._cohort,"/cards/likes/").concat(t),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}},{key:"deleteCard",value:function(t){return fetch("".concat(this._url,"/").concat(this._cohort,"/cards/").concat(t),{method:"DELETE",headers:{authorization:this._token,"Content-Type":"application/json"}}).then(this._checkStatus)}}])&&E(e.prototype,n),t}();function L(t){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function I(t,e,n){return(I="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=P(t)););return t}(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(n):o.value}})(t,e,n||t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){return!e||"object"!==L(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t){return(P=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(a,t);var e,n,r,o,i=(r=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=P(r);if(o){var n=P(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return T(this,t)});function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t))._form=n._popup.querySelector(".form"),n._handleSubmit=e,n}return e=a,(n=[{key:"setEventListeners",value:function(){var t=this;I(P(a.prototype),"setEventListeners",this).call(this),this._form.addEventListener("submit",(function(e){e.preventDefault(),t._handleSubmit(t.card),t.close()}))}},{key:"close",value:function(){I(P(a.prototype),"close",this).call(this)}},{key:"open",value:function(t){I(P(a.prototype),"open",this).call(this),this.card=t}}])&&O(e.prototype,n),a}(c),x={inputSelector:".form__input",submitButtonSelector:".form__save-button",inactiveButtonClass:"form__save-button_disabled",inputErrorClass:"form__input_type_error",errorClass:"form__input-error_active"},q=document.querySelector(".profile__name"),R=document.querySelector(".profile__description"),A=document.querySelector(".profile__avatar"),U=document.querySelector(".form_type_user"),D=document.querySelector(".form_type_card"),N=document.querySelector(".form_type_avatar"),z=document.querySelector(".profile__edit-button"),V=document.querySelector(".profile__add-button"),J=document.querySelector(".profile__avatar-overlay");function H(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var M=new C("cohort-26","https://nomoreparties.co/v1/","254abe0c-6cde-4d88-b5b9-683b939cbbc8"),$=new _(".popup_type_image");$.setEventListeners();var F=new w(q,R,A);function G(t){F.setUserInfo(t.name,t.about,t._id)}function K(t){F.setUserAvatar(t.avatar)}function Q(){var t=this;(this.isLiked()?M.deleteLike(this.cardId):M.likeCard(this.cardId)).then((function(e){t.likes=e.likes,t.handleToggleLike(),t.setCounter(e.likes.length)}))}function W(){X.open(this)}var X=new B(".popup_type_delete",(function(t){M.deleteCard(t.cardId).then((function(e){"Пост удалён"===e.message&&t.removeElement()})).catch((function(t){return console.log(t)}))}));X.setEventListeners();var Y=function(t){return function(t){var n=F.getUserId();return new e(t,".template-card",(function(){$.openImage(t.name,t.link)}),Q,W,n)}(t).generateCard()},Z=new i((function(t){Z.addItemAppend(Y(t))}),".cards");Promise.all([M.getUserInfo(),M.getInitialCards()]).then((function(t){var e,n,r=(n=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i=[],a=!0,c=!1;try{for(n=n.call(t);!(a=(r=n.next()).done)&&(i.push(r.value),!e||i.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==n.return||n.return()}finally{if(c)throw o}}return i}}(e,n)||function(t,e){if(t){if("string"==typeof t)return H(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(t,e):void 0}}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=r[0],i=r[1];G(o),K(o);var a=F.getUserInfo();F.getUserId(),Z.renderItems(i);var c=new g(".popup_type_new-card",(function(t){et.changeButtonText("Создание..."),M.postNewCard(t.name,t.link).then((function(t){Z.addItem(Y(t)),c.close(),et.changeButtonText("Создать")})).catch((function(t){return console.log(t)}))}));c.setEventListeners();var u=new g(".popup_type_edit",(function(t){tt.changeButtonText("Сохранение..."),M.editUserInfo(t.name,t.about).then((function(){G(t),u.close(),tt.changeButtonText("Сохранить")})).catch((function(t){return console.log(t)}))}));u.setEventListeners();var s=new g(".popup_type_avatar",(function(t){nt.changeButtonText("Сохранение..."),M.editUserAvatar(t.avatar).then((function(){K(t),s.close(),nt.changeButtonText("Сохранить")})).catch((function(t){return console.log(t)}))}));s.setEventListeners(),z.addEventListener("click",(function(){U.name.value=a.name,U.about.value=a.about,tt.resetErrorText(),u.open()})),V.addEventListener("click",(function(){et.resetErrorText(),c.open()})),J.addEventListener("click",(function(){nt.resetErrorText(),s.open()}))})).catch((function(t){console.log(t)}));var tt=new r(x,U),et=new r(x,D),nt=new r(x,N);tt.enableValidation(),et.enableValidation(),nt.enableValidation()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9tZXN0by13ZWJwYWNrLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLXdlYnBhY2svLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhTdWJtaXQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vbWVzdG8td2VicGFjay8uL3NyYy9wYWdlcy9pbmRleC5qcyJdLCJuYW1lcyI6WyJDYXJkIiwiZGF0YSIsInRlbXBsYXRlIiwiaGFuZGxlQ2FyZENsaWNrIiwiaGFuZGxlQ2FyZExpa2UiLCJoYW5kbGVDYXJkRGVsZXRlIiwidXNlcklkIiwidGhpcyIsIl90ZXh0IiwibmFtZSIsIl9pbWFnZSIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwibGlrZXMiLCJjYXJkSWQiLCJfaWQiLCJfb3duZXJJZCIsIm93bmVyIiwiX2hhbmRsZUNhcmRDbGljayIsIl91c2VySWQiLCJfaGFuZGxlQ2FyZExpa2UiLCJiaW5kIiwiX2hhbmRsZUNhcmREZWxldGUiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwiX2NhcmRUaXRsZSIsIl9jYXJkQnV0dG9uRGVsZXRlIiwiX2NhcmRCdXR0b25MaWtlIiwiX2xpa2VDb3VudGVyIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2NoZWNrQ2FyZE93bmVyIiwic3JjIiwiYWx0IiwidGV4dENvbnRlbnQiLCJoYW5kbGVUb2dnbGVMaWtlIiwic2V0Q291bnRlciIsImxlbmd0aCIsInJlbW92ZSIsImxpa2VzTGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsImlzTGlrZWQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzb21lIiwibGlrZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwidGV4dCIsIl9zdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbnB1dFNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybSIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2lucHV0TGlzdCIsIkFycmF5IiwiZnJvbSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hhc0ludmFsaWRJbnB1dCIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUlucHV0RXJyb3IiLCJfc2hvd0lucHV0RXJyb3IiLCJmb3JFYWNoIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsIl90b2dnbGVCdXR0b25TdGF0ZSIsIl9zZXRFdmVudExpc3RlbmVyIiwiU2VjdGlvbiIsInJlbmRlcmVyIiwiY29udGFpbmVyU2VsZWN0b3IiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiaXRlbXNBcnJheSIsIml0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsImFwcGVuZCIsIlBvcHVwIiwicG9wdXAiLCJldnQiLCJrZXkiLCJjbG9zZSIsIl9wb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwiX3BvcHVwSW1hZ2UiLCJfcG9wdXBUaXRsZSIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVTdWJtaXQiLCJfY29uZmlybUJ1dHRvbiIsIl9oYW5kbGVTdWJtaXQiLCJfaW5wdXRzTGlzdCIsIl9kYXRhIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwicmVzZXQiLCJVc2VySW5mbyIsInVzZXJOYW1lIiwidXNlckFib3V0IiwidXNlckF2YXRhciIsIl91c2VyTmFtZSIsIl91c2VyQWJvdXQiLCJfdXNlckF2YXRhciIsIl9wcm9maWxlSWQiLCJhYm91dCIsIm5hbWVVcGRhdGUiLCJhYm91dFVwZGF0ZSIsImF2YXRhclVwZGF0ZSIsIkFwaSIsImNvaG9ydCIsInVybCIsInRva2VuIiwiX2NvaG9ydCIsIl91cmwiLCJfdG9rZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZmV0Y2giLCJoZWFkZXJzIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJfY2hlY2tTdGF0dXMiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImF2YXRhciIsIlBvcHVwV2l0aFN1Ym1pdCIsImNhcmQiLCJvYmoiLCJ1c2VySm9iIiwidXNlckZvcm0iLCJjYXJkRm9ybSIsImF2YXRhckZvcm0iLCJlZGl0UHJvZmlsZUJ1dHRvbiIsImFkZENhcmRCdXR0b24iLCJhdmF0YXJPdmVybGF5IiwiYXBpIiwicG9wdXBXaXRoSW1hZ2UiLCJzZXRFdmVudExpc3RlbmVycyIsInVzZXJEYXRhIiwiaGFuZGxlVXNlckluZm8iLCJzZXRVc2VySW5mbyIsImhhbmRsZVVzZXJBdmF0YXIiLCJzZXRVc2VyQXZhdGFyIiwiZGVsZXRlTGlrZSIsImxpa2VDYXJkIiwicmVzcG9uc2UiLCJwb3B1cERlbGV0ZSIsIm9wZW4iLCJkZWxldGVDYXJkIiwibWVzc2FnZSIsInJlbW92ZUVsZW1lbnQiLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJyZW5kZXJDYXJkIiwiZ2V0VXNlcklkIiwib3BlbkltYWdlIiwiY3JlYXRlQ2FyZCIsImdlbmVyYXRlQ2FyZCIsInJlbmRlckNhcmRzIiwiYWRkSXRlbUFwcGVuZCIsImFsbCIsImdldFVzZXJJbmZvIiwiZ2V0SW5pdGlhbENhcmRzIiwiYXBpRGF0YSIsImNhcmRzRGF0YSIsImN1cnJlbnRVc2VySW5mbyIsInJlbmRlckl0ZW1zIiwicG9wdXBBZGRDYXJkIiwiZGF0YUNhcmQiLCJjYXJkVmFsaWRhdGUiLCJjaGFuZ2VCdXR0b25UZXh0IiwicG9zdE5ld0NhcmQiLCJhZGRJdGVtIiwicG9wdXBVc2VyIiwidXNlckluZm8iLCJ1c2VyVmFsaWRhdGUiLCJlZGl0VXNlckluZm8iLCJwb3B1cEF2YXRhciIsImF2YXRhclZhbGlkYXRlIiwiZWRpdFVzZXJBdmF0YXIiLCJyZXNldEVycm9yVGV4dCIsImVuYWJsZVZhbGlkYXRpb24iXSwibWFwcGluZ3MiOiJ5TEFBTyxJQUFNQSxFQUFiLFdBQ0UsV0FBWUMsRUFBTUMsRUFBVUMsRUFBaUJDLEVBQWdCQyxFQUFrQkMsSSw0RkFBUSxTQUNyRkMsS0FBS0MsTUFBUVAsRUFBS1EsS0FDbEJGLEtBQUtHLE9BQVNULEVBQUtVLEtBQ25CSixLQUFLSyxjQUFnQlYsRUFDckJLLEtBQUtNLE1BQVFaLEVBQUtZLE1BQ2xCTixLQUFLTyxPQUFTYixFQUFLYyxJQUNuQlIsS0FBS1MsU0FBV2YsRUFBS2dCLE1BQU1GLElBQzNCUixLQUFLVyxpQkFBbUJmLEVBQ3hCSSxLQUFLWSxRQUFVYixFQUNmQyxLQUFLYSxnQkFBa0JoQixFQUFlaUIs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dWN0b3IoZGF0YSwgdGVtcGxhdGUsIGhhbmRsZUNhcmRDbGljaywgaGFuZGxlQ2FyZExpa2UsIGhhbmRsZUNhcmREZWxldGUsIHVzZXJJZCkge1xyXG4gICAgdGhpcy5fdGV4dCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2ltYWdlID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gdGVtcGxhdGU7XHJcbiAgICB0aGlzLmxpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2sgPSBoYW5kbGVDYXJkQ2xpY2s7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkTGlrZSA9IGhhbmRsZUNhcmRMaWtlLmJpbmQodGhpcyk7XHJcbiAgICB0aGlzLl9oYW5kbGVDYXJkRGVsZXRlID0gaGFuZGxlQ2FyZERlbGV0ZTtcclxuICB9O1xyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXHJcbiAgICAuY29udGVudFxyXG4gICAgLnF1ZXJ5U2VsZWN0b3IoJy5jYXJkJylcclxuICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcbiAgICBcclxuICAvLyDQstC10YDQvdGR0LwgRE9NLdGN0LvQtdC80LXQvdGCINC60LDRgNGC0L7Rh9C60LhcclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9O1xyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICAvLyDQl9Cw0L/QuNGI0LXQvCDRgNCw0LfQvNC10YLQutGDINCyINC/0YDQuNCy0LDRgtC90L7QtSDQv9C+0LvQtSBfZWxlbWVudC4gXHJcbiAgICAvLyDQotCw0Log0YMg0LTRgNGD0LPQuNGFINGN0LvQtdC80LXQvdGC0L7QsiDQv9C+0Y/QstC40YLRgdGPINC00L7RgdGC0YPQvyDQuiDQvdC10LkuXHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkX190aXRsZScpO1xyXG4gICAgdGhpcy5fY2FyZEJ1dHRvbkRlbGV0ZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmRfX2RlbGV0ZS1idXR0b24nKTtcclxuICAgIHRoaXMuX2NhcmRCdXR0b25MaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1idXR0b24nKTtcclxuICAgIHRoaXMuX2xpa2VDb3VudGVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZF9fbGlrZS1jb3VudGVyJyk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fY2hlY2tDYXJkT3duZXIoKTtcclxuICBcclxuICAgIC8vINCU0L7QsdCw0LLQuNC8INC00LDQvdC90YvQtVxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2ltYWdlO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX3RleHQ7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl90ZXh0O1xyXG4gICAgdGhpcy5oYW5kbGVUb2dnbGVMaWtlKCk7XHJcbiAgICB0aGlzLnNldENvdW50ZXIodGhpcy5saWtlcy5sZW5ndGgpO1xyXG4gIFxyXG4gICAgLy8g0JLQtdGA0L3RkdC8INGN0LvQtdC80LXQvdGCINC90LDRgNGD0LbRg1xyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrQ2FyZE93bmVyKCkge1xyXG4gICAgICBpZih0aGlzLl9vd25lcklkICE9PSB0aGlzLl91c2VySWQpIHtcclxuICAgICAgdGhpcy5fY2FyZEJ1dHRvbkRlbGV0ZS5yZW1vdmUoKTtcclxuXHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgc2V0Q291bnRlcihsaWtlc0xlbmd0aCkge1xyXG4gICAgdGhpcy5fbGlrZUNvdW50ZXIudGV4dENvbnRlbnQgPSBsaWtlc0xlbmd0aDtcclxuICB9O1xyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkQnV0dG9uTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZExpa2UoKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEJ1dHRvbkRlbGV0ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlQ2FyZERlbGV0ZSh0aGlzKTtcclxuICAgIH0pO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVDYXJkQ2xpY2soKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGhhbmRsZVRvZ2dsZUxpa2UoKSB7ICAgIFxyXG4gICAgaWYodGhpcy5pc0xpa2VkKCkpIHtcclxuICAgICAgdGhpcy5fY2FyZEJ1dHRvbkxpa2UuY2xhc3NMaXN0LmFkZCgnY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9jYXJkQnV0dG9uTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmUnKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICByZW1vdmVFbGVtZW50KCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9O1xyXG5cclxuICBpc0xpa2VkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubGlrZXMuc29tZShsaWtlID0+IHtcclxuICAgICAgcmV0dXJuIGxpa2UuX2lkID09PSB0aGlzLl91c2VySWQ7XHJcbiAgICB9KTtcclxuICB9O1xyXG59OyIsImV4cG9ydCBjbGFzcyBGb3JtVmFsaWRhdG9yIHtcclxuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm0pIHtcclxuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcclxuICAgIFxyXG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xyXG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcclxuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcclxuICAgIFxyXG4gICAgdGhpcy5fZm9ybSA9IGZvcm07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcihjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0ID0gQXJyYXkuZnJvbSh0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcikpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgfTtcclxuXHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICB9O1xyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KCkpIHtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3Iuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvci5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpIHtcclxuICAgIGlmICghaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVyKCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcigpO1xyXG4gIH07XHJcblxyXG4gIHJlc2V0RXJyb3JUZXh0KCkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH07XHJcblxyXG4gIGNoYW5nZUJ1dHRvblRleHQgPSAodGV4dCkgPT4ge1xyXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IudGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxufTsiLCJleHBvcnQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IocmVuZGVyZXIsIGNvbnRhaW5lclNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICByZW5kZXJJdGVtcyhpdGVtc0FycmF5KSB7XHJcbiAgICBpdGVtc0FycmF5LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbUFwcGVuZChlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIuYXBwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxufSIsImV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cCk7XHJcbiAgfTtcclxuXHJcbiAgb3BlbigpIHtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuZWQnKTtcclxuICB9O1xyXG5cclxuICBjbG9zZSgpIHtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuZWQnKTtcclxuICB9O1xyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfTtcclxuICB9O1xyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cCcpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSh0aGlzLl9wb3B1cCk7XHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9wb3B1cC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdwb3B1cF9fY2xvc2UtYnV0dG9uJykpIHtcclxuICAgICAgICB0aGlzLmNsb3NlKHRoaXMuX3BvcHVwKTtcclxuICAgICAgfTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fcG9wdXBJbWFnZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5maWd1cmVfX2ltYWdlJyk7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmZpZ3VyZV9fdGl0bGUnKTtcclxuICB9XHJcblxyXG4gIG9wZW5JbWFnZShuYW1lLCBsaW5rKSB7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLnNyYyA9IGxpbms7XHJcbiAgICB0aGlzLl9wb3B1cEltYWdlLmFsdCA9IG5hbWU7XHJcbiAgICB0aGlzLl9wb3B1cFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcbmV4cG9ydCBjbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgdGhpcy5fY29uZmlybUJ1dHRvbiA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcignLmZvcm1fX3NhdmUtYnV0dG9uJyk7XHJcbiAgICB0aGlzLl9oYW5kbGVTdWJtaXQgPSBoYW5kbGVTdWJtaXQ7XHJcbiAgfTtcclxuXHJcbiAgX2dldElucHV0VmFsdWVzKCkge1xyXG4gICAgdGhpcy5faW5wdXRzTGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLmZvcm1fX2lucHV0Jyk7XHJcbiAgICB0aGlzLl9kYXRhID0ge307XHJcbiAgICB0aGlzLl9pbnB1dHNMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIHRoaXMuX2RhdGFbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRoaXMuX2RhdGE7XHJcbiAgfTtcclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICBjb25zdCBkYXRhID0gdGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY2xvc2UoKSB7XHJcbiAgICB0aGlzLl9mb3JtLnJlc2V0KCk7XHJcbiAgICBzdXBlci5jbG9zZSgpO1xyXG4gIH07XHJcbn0iLCJleHBvcnQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHVzZXJOYW1lLCB1c2VyQWJvdXQsIHVzZXJBdmF0YXIpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lID0gdXNlck5hbWU7XHJcbiAgICB0aGlzLl91c2VyQWJvdXQgPSB1c2VyQWJvdXQ7XHJcbiAgICB0aGlzLl91c2VyQXZhdGFyID0gdXNlckF2YXRhcjtcclxuICAgIHRoaXMuX3Byb2ZpbGVJZCA9ICcnO1xyXG4gIH07XHJcblxyXG4gIGdldFVzZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl91c2VyQWJvdXQudGV4dENvbnRlbnRcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKG5hbWVVcGRhdGUsIGFib3V0VXBkYXRlLCBfaWQpIHtcclxuICAgIHRoaXMuX3VzZXJOYW1lLnRleHRDb250ZW50ID0gbmFtZVVwZGF0ZTtcclxuICAgIHRoaXMuX3VzZXJBYm91dC50ZXh0Q29udGVudCA9IGFib3V0VXBkYXRlO1xyXG4gICAgdGhpcy5fdXNlcklkID0gX2lkO1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihhdmF0YXJVcGRhdGUpIHtcclxuICAgIHRoaXMuX3VzZXJBdmF0YXIuc3JjID0gYXZhdGFyVXBkYXRlO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX3VzZXJJZDtcclxuICB9XHJcbn0iLCJleHBvcnQgY2xhc3MgQXBpIHtcclxuICBjb25zdHJ1Y3Rvcihjb2hvcnQsIHVybCwgdG9rZW4pIHtcclxuICAgIHRoaXMuX2NvaG9ydCA9IGNvaG9ydDtcclxuICAgIHRoaXMuX3VybCA9IHVybDtcclxuICAgIHRoaXMuX3Rva2VuID0gdG9rZW47XHJcbiAgfVxyXG5cclxuICBfY2hlY2tTdGF0dXMocmVzKSB7ICAgIFxyXG4gICAgICBpZihyZXMub2spIHtcclxuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYNCe0YjQuNCx0LrQsDogJHtyZXMuc3RhdHVzfWApO1xyXG4gICAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS8ke3RoaXMuX2NvaG9ydH0vY2FyZHNgLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlblxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgfVxyXG5cclxuICBwb3N0TmV3Q2FyZChuYW1lLCBsaW5rKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS8ke3RoaXMuX2NvaG9ydH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9LFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogbmFtZSxcclxuICAgICAgICBsaW5rOiBsaW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9LyR7dGhpcy5fY29ob3J0fS91c2Vycy9tZWAsIHtcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cylcclxuICB9XHJcblxyXG4gIGVkaXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vJHt0aGlzLl9jb2hvcnR9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgIGFib3V0OiBhYm91dFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gIH1cclxuXHJcbiAgZWRpdFVzZXJBdmF0YXIoYXZhdGFyKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS8ke3RoaXMuX2NvaG9ydH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBhdmF0YXI6IGF2YXRhclxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoY2FyZElkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fdXJsfS8ke3RoaXMuX2NvaG9ydH0vY2FyZHMvbGlrZXMvJHtjYXJkSWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogdGhpcy5fdG9rZW4sXHJcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLnRoZW4odGhpcy5fY2hlY2tTdGF0dXMpXHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKGNhcmRJZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX3VybH0vJHt0aGlzLl9jb2hvcnR9L2NhcmRzL2xpa2VzLyR7Y2FyZElkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgIGF1dGhvcml6YXRpb246IHRoaXMuX3Rva2VuLFxyXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgfVxyXG4gICAgfSlcclxuICAgIC50aGVuKHRoaXMuX2NoZWNrU3RhdHVzKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl91cmx9LyR7dGhpcy5fY29ob3J0fS9jYXJkcy8ke2NhcmRJZH1gLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICBhdXRob3JpemF0aW9uOiB0aGlzLl90b2tlbixcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAudGhlbih0aGlzLl9jaGVja1N0YXR1cylcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoU3VibWl0IGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLCBoYW5kbGVTdWJtaXQpIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuZm9ybScpO1xyXG4gICAgdGhpcy5faGFuZGxlU3VibWl0ID0gaGFuZGxlU3VibWl0O1xyXG4gIH07XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xyXG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5faGFuZGxlU3VibWl0KHRoaXMuY2FyZCk7XHJcbiAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgc3VwZXIuY2xvc2UoKTtcclxuICB9O1xyXG5cclxuICBvcGVuKGNhcmQpIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuY2FyZCA9IGNhcmQ7XHJcbiAgfTtcclxufSIsImV4cG9ydCB7b2JqLCB1c2VyRm9ybSwgY2FyZEZvcm0sIGF2YXRhckZvcm0sIGVkaXRQcm9maWxlQnV0dG9uLCBhZGRDYXJkQnV0dG9uLCBhdmF0YXJPdmVybGF5LCB1c2VyTmFtZSwgdXNlckpvYiwgdXNlckF2YXRhcn07XHJcblxyXG5jb25zdCBvYmogPSAoe1xyXG4gIGlucHV0U2VsZWN0b3I6ICcuZm9ybV9faW5wdXQnLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiAnLmZvcm1fX3NhdmUtYnV0dG9uJyxcclxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiAnZm9ybV9fc2F2ZS1idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ2Zvcm1fX2lucHV0X3R5cGVfZXJyb3InLFxyXG4gIGVycm9yQ2xhc3M6ICdmb3JtX19pbnB1dC1lcnJvcl9hY3RpdmUnXHJcbn0pO1xyXG5cclxuY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fbmFtZScpO1xyXG5jb25zdCB1c2VySm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2Rlc2NyaXB0aW9uJyk7XHJcbmNvbnN0IHVzZXJBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYXZhdGFyJyk7XHJcblxyXG5jb25zdCB1c2VyRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfdXNlcicpO1xyXG5jb25zdCBjYXJkRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mb3JtX3R5cGVfY2FyZCcpO1xyXG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fdHlwZV9hdmF0YXInKTtcclxuXHJcbmNvbnN0IGVkaXRQcm9maWxlQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2VkaXQtYnV0dG9uJyk7XHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9fYWRkLWJ1dHRvbicpO1xyXG5jb25zdCBhdmF0YXJPdmVybGF5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhci1vdmVybGF5Jyk7IiwiaW1wb3J0IHtDYXJkfSBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQge0Zvcm1WYWxpZGF0b3J9IGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyc7XHJcbmltcG9ydCB7U2VjdGlvbn0gZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IHtQb3B1cFdpdGhJbWFnZX0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCB7UG9wdXBXaXRoRm9ybX0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IHtVc2VySW5mb30gZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCB7QXBpfSBmcm9tICcuLi9jb21wb25lbnRzL0FwaS5qcyc7XHJcbmltcG9ydCB7UG9wdXBXaXRoU3VibWl0fSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aFN1Ym1pdC5qcyc7XHJcbmltcG9ydCB7b2JqLCB1c2VyRm9ybSwgY2FyZEZvcm0sIGF2YXRhckZvcm0sIGVkaXRQcm9maWxlQnV0dG9uLCBhZGRDYXJkQnV0dG9uLCBhdmF0YXJPdmVybGF5LCB1c2VyTmFtZSwgdXNlckpvYiwgdXNlckF2YXRhcn0gZnJvbSAnLi4vdXRpbHMvY29uc3RhbnRzLmpzJztcclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcblxyXG5jb25zdCBhcGkgPSBuZXcgQXBpKCdjb2hvcnQtMjYnLCAnaHR0cHM6Ly9ub21vcmVwYXJ0aWVzLmNvL3YxLycsICcyNTRhYmUwYy02Y2RlLTRkODgtYjViOS02ODNiOTM5Y2JiYzgnKTtcclxuXHJcbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfdHlwZV9pbWFnZScpO1xyXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgdXNlckRhdGEgPSBuZXcgVXNlckluZm8odXNlck5hbWUsIHVzZXJKb2IsIHVzZXJBdmF0YXIpO1xyXG5cclxuZnVuY3Rpb24gaGFuZGxlVXNlckluZm8gKGRhdGEpIHtcclxuICB1c2VyRGF0YS5zZXRVc2VySW5mbyhkYXRhLm5hbWUsIGRhdGEuYWJvdXQsIGRhdGEuX2lkKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlVXNlckF2YXRhcihkYXRhKSB7XHJcbiAgdXNlckRhdGEuc2V0VXNlckF2YXRhcihkYXRhLmF2YXRhcilcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlQ2FyZExpa2UoKSB7XHJcbiAgY29uc3QgY2FyZEFyciA9IHRoaXMuaXNMaWtlZCgpID8gYXBpLmRlbGV0ZUxpa2UodGhpcy5jYXJkSWQpIDogYXBpLmxpa2VDYXJkKHRoaXMuY2FyZElkKTtcclxuICBjYXJkQXJyLnRoZW4oKHJlc3BvbnNlKSA9PiB7XHJcbiAgICB0aGlzLmxpa2VzID0gcmVzcG9uc2UubGlrZXM7XHJcbiAgICB0aGlzLmhhbmRsZVRvZ2dsZUxpa2UoKTtcclxuICAgIHRoaXMuc2V0Q291bnRlcihyZXNwb25zZS5saWtlcy5sZW5ndGgpO1xyXG4gIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUNhcmREZWxldGUoKSB7XHJcbiAgcG9wdXBEZWxldGUub3Blbih0aGlzKTtcclxufVxyXG5cclxuY29uc3QgcG9wdXBEZWxldGUgPSBuZXcgUG9wdXBXaXRoU3VibWl0KCcucG9wdXBfdHlwZV9kZWxldGUnLCAoY2FyZCkgPT4ge1xyXG4gIGFwaS5kZWxldGVDYXJkKGNhcmQuY2FyZElkKVxyXG4gIC50aGVuKChyZXMpID0+IHtcclxuICAgIGlmIChyZXMubWVzc2FnZSA9PT0gXCLQn9C+0YHRgiDRg9C00LDQu9GR0L1cIikge1xyXG4gICAgICBjYXJkLnJlbW92ZUVsZW1lbnQoKTtcclxuICAgIH1cclxuICB9KSAgXHJcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgfSk7XHJcbnBvcHVwRGVsZXRlLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0t0YTRg9C90LrRhtC40Lgg0LTQu9GPINGB0LHQvtGA0LrQuCDQutCw0YDRgtC+0YfQtdC6LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuY29uc3QgY3JlYXRlQ2FyZCA9IChpdGVtKSA9PiB7XHJcbiAgY29uc3QgdXNlcklkID0gdXNlckRhdGEuZ2V0VXNlcklkKCk7XHJcbiAgcmV0dXJuIG5ldyBDYXJkKGl0ZW0sICcudGVtcGxhdGUtY2FyZCcsIFxyXG4gIGZ1bmN0aW9uIGhhbmRsZUNhcmRDbGljaygpIHtwb3B1cFdpdGhJbWFnZS5vcGVuSW1hZ2UoaXRlbS5uYW1lLCBpdGVtLmxpbmspfSwgXHJcbiAgaGFuZGxlQ2FyZExpa2UsIFxyXG4gIGhhbmRsZUNhcmREZWxldGUsIFxyXG4gIHVzZXJJZCk7ICBcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlckNhcmQgPSAoaXRlbSkgPT4ge1xyXG4gIHJldHVybiBjcmVhdGVDYXJkKGl0ZW0pLmdlbmVyYXRlQ2FyZCgpO1xyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyQ2FyZHMgPSBuZXcgU2VjdGlvbihcclxuICBmdW5jdGlvbiByZW5kZXJlcihpdGVtKSB7ICAgICAgXHJcbiAgICByZW5kZXJDYXJkcy5hZGRJdGVtQXBwZW5kKHJlbmRlckNhcmQoaXRlbSkpO1xyXG4gIH0sIFxyXG4gICcuY2FyZHMnKTtcclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLUFQSS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblByb21pc2UuYWxsKFthcGkuZ2V0VXNlckluZm8oKSwgYXBpLmdldEluaXRpYWxDYXJkcygpXSlcclxuICAudGhlbigoW2FwaURhdGEsIGNhcmRzRGF0YV0pID0+IHtcclxuICAgIC8vLS0tLS0tLS0tLS0tLS3Qt9Cw0L/QvtC70L3QtdC90LjQtSDQv9GA0L7RhNC40LvRjy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgaGFuZGxlVXNlckluZm8oYXBpRGF0YSk7XHJcbiAgICBoYW5kbGVVc2VyQXZhdGFyKGFwaURhdGEpO1xyXG5cclxuICAgIGNvbnN0IGN1cnJlbnRVc2VySW5mbyA9IHVzZXJEYXRhLmdldFVzZXJJbmZvKCk7XHJcbiAgICB1c2VyRGF0YS5nZXRVc2VySWQoKTtcclxuICAgIC8vLS0tLS0tLS0tLS0tLS0t0YDQtdC90LTQtdGAINC60LDRgNGC0L7Rh9C10LotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgcmVuZGVyQ2FyZHMucmVuZGVySXRlbXMoY2FyZHNEYXRhKTtcclxuXHJcbiAgICAvLy0tLS0tLS0tLdC00L7QsdCw0LLQu9C10L3QuNC1INC60LDRgNGC0L7Rh9C60Lgg0L3QsCDRgdC10YDQstC10YAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgIGNvbnN0IHBvcHVwQWRkQ2FyZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9uZXctY2FyZCcsIChkYXRhQ2FyZCkgPT4ge1xyXG4gICAgICBjYXJkVmFsaWRhdGUuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtC30LTQsNC90LjQtS4uLicpO1xyXG4gICAgICBhcGkucG9zdE5ld0NhcmQoZGF0YUNhcmQubmFtZSwgZGF0YUNhcmQubGluaylcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4geyBcclxuICAgICAgICAgIHJlbmRlckNhcmRzLmFkZEl0ZW0ocmVuZGVyQ2FyZChkYXRhKSk7XHJcbiAgICAgICAgICBwb3B1cEFkZENhcmQuY2xvc2UoKTtcclxuICAgICAgICAgIGNhcmRWYWxpZGF0ZS5jaGFuZ2VCdXR0b25UZXh0KCfQodC+0LfQtNCw0YLRjCcpO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUubG9nKGVycikpXHJcbiAgICB9KTtcclxuICAgIHBvcHVwQWRkQ2FyZC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLdC00L7QsdCw0LLQu9C10L3QuNC1INC00LDQvdC90YvRhSDQv9GA0L7RhNC40LvRjyDQvdCwINGB0LXRgNCy0LXRgC0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBwb3B1cFVzZXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX3R5cGVfZWRpdCcsICh1c2VySW5mbykgPT4ge1xyXG4gICAgICB1c2VyVmFsaWRhdGUuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgYXBpLmVkaXRVc2VySW5mbyh1c2VySW5mby5uYW1lLCB1c2VySW5mby5hYm91dClcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBoYW5kbGVVc2VySW5mbyh1c2VySW5mbyk7XHJcbiAgICAgICAgICBwb3B1cFVzZXIuY2xvc2UoKTtcclxuICAgICAgICAgIHVzZXJWYWxpZGF0ZS5jaGFuZ2VCdXR0b25UZXh0KCfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgfSk7XHJcbiAgICBwb3B1cFVzZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICAvLy0tLS0tLS0tLS3QtNC+0LHQsNCy0LvQtdC90LjQtSDQsNCy0LDRgtCw0YDQutC4INC/0YDQvtGE0LjQu9GPINC90LAg0YHQtdGA0LLQtdGALS0tLS0tLS0tLS0tLS0tXHJcbiAgICBjb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfdHlwZV9hdmF0YXInLCAodXNlckluZm8pID0+IHtcclxuICAgICAgYXZhdGFyVmFsaWRhdGUuY2hhbmdlQnV0dG9uVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgYXBpLmVkaXRVc2VyQXZhdGFyKHVzZXJJbmZvLmF2YXRhcilcclxuICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICBoYW5kbGVVc2VyQXZhdGFyKHVzZXJJbmZvKTtcclxuICAgICAgICAgIHBvcHVwQXZhdGFyLmNsb3NlKCk7XHJcbiAgICAgICAgICBhdmF0YXJWYWxpZGF0ZS5jaGFuZ2VCdXR0b25UZXh0KCfQodC+0YXRgNCw0L3QuNGC0YwnKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKVxyXG4gICAgfSk7XHJcbiAgICBwb3B1cEF2YXRhci5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIC8vLS0tLS0tLS0tLS0tLdGB0LvRg9GI0LDRgtC10LvQuC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICBlZGl0UHJvZmlsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsgICAgICBcclxuICAgICAgdXNlckZvcm0ubmFtZS52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5uYW1lO1xyXG4gICAgICB1c2VyRm9ybS5hYm91dC52YWx1ZSA9IGN1cnJlbnRVc2VySW5mby5hYm91dDtcclxuICAgICAgdXNlclZhbGlkYXRlLnJlc2V0RXJyb3JUZXh0KCk7XHJcbiAgICAgIHBvcHVwVXNlci5vcGVuKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgYWRkQ2FyZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgY2FyZFZhbGlkYXRlLnJlc2V0RXJyb3JUZXh0KCk7XHJcbiAgICAgIHBvcHVwQWRkQ2FyZC5vcGVuKCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgYXZhdGFyT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgYXZhdGFyVmFsaWRhdGUucmVzZXRFcnJvclRleHQoKTtcclxuICAgICAgcG9wdXBBdmF0YXIub3BlbigpO1xyXG4gICAgfSk7XHJcblxyXG4gIH0pXHJcbiAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgfSk7IFxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0t0LLQsNC70LjQtNCw0YbQuNGPLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5jb25zdCB1c2VyVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcihvYmosIHVzZXJGb3JtKTtcclxuY29uc3QgY2FyZFZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBjYXJkRm9ybSk7XHJcbmNvbnN0IGF2YXRhclZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3Iob2JqLCBhdmF0YXJGb3JtKTtcclxuXHJcbnVzZXJWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmF2YXRhclZhbGlkYXRlLmVuYWJsZVZhbGlkYXRpb24oKTsiXSwic291cmNlUm9vdCI6IiJ9